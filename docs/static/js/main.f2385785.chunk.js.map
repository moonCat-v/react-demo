{"version":3,"sources":["redux/reducer/index.js","redux/store.js","pages/components/dragEvent.jsx","contants/index.js","pages/components/multiview/multiview.jsx","pages/index.jsx","pages/components/multiview/index.jsx","App.js","index.js"],"names":["initState","obj","list","num","string","rootreduce","state","action","composeMidd","compose","applyMiddleware","thunk","createStore","reducer","composeWithDevTools","id","text","DragEvent","_useState","useState","_useState2","Object","slicedToArray","leftDragList","setleftDragList","_useState3","_useState4","rightDragList","setrightDragList","dataRef","useRef","current","left","callback","right","handleDragOver","e","preventDefault","handleDrop","arrow","_e$target","target","dataset","classList","remove","curData","JSON","parse","dataTransfer","getData","preData","mapPreData","stringify","filter","item","concat","toConsumableArray","index","findIndex","splice","handleDragEnter","add","handleDragLeave","react_default","a","createElement","className","entries","map","_ref","_ref2","key","_ref2$","onDragOver","onDragEnter","onDragLeave","onDrop","data-id","draggable","onDragStart","data","setData","viewerLayout","theme1","layout","row","column","grids","top","width","height","theme2","theme3","theme4","theme5","theme6","theme7","theme8","theme9","theme10","multiview","props","children","grid","handleStyleData","divisor","dividend","style","useMemo","objectSpread","nodeMap","Multiview","currentLay","setCurrentLay","_useMemo","_useMemo$grids","keys","marginLeft","onClick","gridItem","Index","queryPrames","window","location","href","split","Component","App","ReactDOM","render","StrictMode","es","store","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.f2385785.chunk.js","sourcesContent":["\nconst initState = {\n  obj: {},\n  list: [],\n  num: 0,\n  string: ''\n}\n\nfunction rootreduce(state, action) {\n  // console.log(action, 111)\n  return initState\n}\n\nexport default rootreduce","import { createStore, applyMiddleware, compose } from 'redux'\nimport thunk from 'redux-thunk'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport reducer from './reducer'\n\nconst composeMidd = compose(\n  applyMiddleware(thunk)\n)\n\n\nexport default createStore(reducer, composeWithDevTools(composeMidd))","import React, { useState, useRef } from 'react'\nimport './style/drag.css'\n\nconst list = [\n  {\n    id: '1',\n    text: '序列1'\n  },\n  {\n    id: '2',\n    text: '序列2'\n  },\n  {\n    id: '3',\n    text: '序列3'\n  },\n  {\n    id: '4',\n    text: '序列4'\n  },\n  {\n    id: '5',\n    text: '序列5'\n  },\n]\n\nexport default function DragEvent() {\n\n  const [leftDragList, setleftDragList] = useState(list)\n  const [rightDragList, setrightDragList] = useState([])\n  const dataRef = useRef(null)\n\n  // 定义初始化元素需要数据\n  dataRef.current = {\n    left: {\n      callback: setleftDragList,\n      list: leftDragList,\n    },\n    right: {\n      callback: setrightDragList,\n      list: rightDragList,\n    }\n  }\n\n  // 拖拽元素在目标元素移动事件-阻止浏览器默认行为让目标元素成为可释放的目标元素\n  const handleDragOver = e => e.preventDefault()\n\n  // 拖拽完成事件-处理完成拖拽时的逻辑\n  const handleDrop = (callback, arrow) => {\n    return e => {\n      const { dataset: { id }, classList } = e.target\n      classList.remove('over')\n      const curData = JSON.parse(e.dataTransfer.getData('itemData'))\n\n      callback(preData => {\n        const mapPreData = JSON.parse(JSON.stringify(preData)).filter(item => item.id !== curData.id)\n        if (!id) return [...mapPreData, curData]\n\n        const index = mapPreData.findIndex(item => item.id === id)\n        mapPreData.splice(index, 0, curData)\n        return mapPreData\n      })\n\n      if (arrow === 'left') setrightDragList(preData => preData.filter(item => item.id !== curData.id))\n      else setleftDragList(preData => preData.filter(item => item.id !== curData.id))\n    }\n  }\n\n  // 拖拽元素进入目标元素时触发事件-为目标元素添加拖拽元素进入时的样式效果\n  const handleDragEnter = e => e.target.classList.add('over')\n\n  // 拖拽元素离开目标元素时触发事件-移除目标元素的样式效果\n  const handleDragLeave = e => e.target.classList.remove('over')\n\n  // 拖拽开始时触发事件-通过dataTransfer对象设置所需要的数据\n  const handleDragStart = data => e => e.dataTransfer.setData('itemData', JSON.stringify(data))\n\n  return (\n    <div className=\"dragEvent-wrap\">\n      {\n        Object.entries(dataRef.current).map(([key, { callback, list }]) => {\n          return (\n            <div\n              key={key}\n              className=\"content-wrap\"\n              onDragOver={handleDragOver}\n              onDragEnter={handleDragEnter}\n              onDragLeave={handleDragLeave}\n              onDrop={handleDrop(callback, key)}\n            >\n              {\n                list.map(item => \n                (<div\n                  className=\"item-text\"\n                  key={item.id}\n                  data-id={item.id}\n                  // draggable 属性设置元素为可拖拽元素\n                  draggable\n                  onDragStart={handleDragStart(item)}\n                >\n                  {item.text}\n                </div>))\n              }\n            </div>\n          )\n        })\n      }\n    </div>\n  )\n}\n","const viewerLayout = {\n  // 单视图\n  theme1: {\n    layout: { row: 1, column: 1 },\n    grids: [\n      { left: 0, top: 0, width: 1, height: 1 },\n    ],\n  },\n  // 左右双视图\n  theme2: {\n    layout: { row: 1, column: 2 },\n    grids: [\n      { left: 0, top: 0, width: 1, height: 1 },\n      { left: 1, top: 0, width: 1, height: 1 },\n    ],\n  },\n  // 上下双视图\n  theme3: {\n    layout: { row: 2, column: 1 },\n    grids: [\n      { left: 0, top: 0, width: 1, height: 1 },\n      { left: 0, top: 1, width: 1, height: 1 },\n    ],\n  },\n  // 左一右二三视图\n  theme4: {\n    layout: { row: 2, column: 2 },\n    grids: [\n      { left: 0, top: 0, width: 2, height: 1 },\n      { left: 0, top: 1, width: 1, height: 1 },\n      { left: 1, top: 1, width: 1, height: 1 },\n    ],\n  },\n  // 左二右一三视图\n  theme5: {\n    layout: { row: 2, column: 2 },\n    grids: [\n      { left: 0, top: 0, width: 1, height: 1 },\n      { left: 0, top: 1, width: 1, height: 1 },\n      { left: 1, top: 0, width: 1, height: 2 },\n    ],\n  },\n  // 上一下二三视图\n  theme6: {\n    layout: { row: 2, column: 2 },\n    grids: [\n      { left: 0, top: 0, width: 2, height: 1 },\n      { left: 0, top: 1, width: 1, height: 1 },\n      { left: 1, top: 1, width: 1, height: 1 },\n    ],\n  },\n  // 上二下一三视图\n  theme7: {\n    layout: { row: 2, column: 2 },\n    grids: [\n      { left: 0, top: 0, width: 1, height: 1 },\n      { left: 1, top: 0, width: 1, height: 1 },\n      { left: 0, top: 1, width: 2, height: 1 },\n    ],\n  },\n  // 田字四视图\n  theme8: {\n    layout: { row: 2, column: 2 },\n    grids: [\n      { left: 0, top: 0, width: 1, height: 1 },\n      { left: 1, top: 0, width: 1, height: 1 },\n      { left: 0, top: 1, width: 1, height: 1 },\n      { left: 1, top: 1, width: 1, height: 1 },\n    ],\n  },\n\n  // 左一右三\n  theme9: {\n    layout: { row: 3, column: 2 },\n    grids: [\n      { left: 0, top: 0, width: 1, height: 3 },\n      { left: 1, top: 0, width: 1, height: 1 },\n      { left: 1, top: 1, width: 1, height: 1 },\n      { left: 1, top: 2, width: 1, height: 1 },\n    ],\n  },\n\n  // 左三右一\n  theme10: {\n    layout: { row: 3, column: 2 },\n    grids: [\n      { left: 0, top: 0, width: 1, height: 1 },\n      { left: 0, top: 1, width: 1, height: 1 },\n      { left: 0, top: 2, width: 1, height: 1 },\n      { left: 1, top: 0, width: 1, height: 3 },\n    ],\n  },\n\n  // 待扩展。。。\n};\n\n\n\nexport {\n  viewerLayout\n}","import React, { useMemo } from 'react';\n\nexport default function multiview(props) {\n  const { children, grid, layout } = props;\n\n  const handleStyleData = (divisor, dividend) =>\n    (divisor / dividend) * 100 + '%';\n\n  const style = useMemo(() => {\n    const { column, row } = layout;\n    const { height, left, top, width } = grid;\n\n    return {\n      top: handleStyleData(top, row),\n      left: handleStyleData(left, column),\n      width: handleStyleData(width, column),\n      height: handleStyleData(height, row),\n    };\n  }, [grid, layout]);\n\n  return (\n    <div className=\"multiview-wrap\" style={{ ...style }}>\n      {children}\n    </div>\n  );\n}\n","import React from 'react';\n\nimport DragEvent from './components/dragEvent';\nimport Multiview from './components/multiview/index';\n\nconst nodeMap = {\n  DragEvent,\n  Multiview,\n};\n\nexport default function Index() {\n  const queryPrames = window.location.href.split('?')[1];\n\n  const Component = nodeMap[queryPrames] || DragEvent;\n\n  return (\n    <div>\n      <Component />\n    </div>\n  );\n}\n","import React, { useMemo, useState } from 'react';\nimport { viewerLayout } from '../../../contants/index';\nimport Multiview from './multiview';\nimport './multiview.less';\n\nexport default function multiview() {\n  const [currentLay, setCurrentLay] = useState('theme1');\n\n  const handleClcik = (key) => {\n    setCurrentLay(key);\n  };\n\n  const { layout, grids = [] } = useMemo(() => {\n    return viewerLayout[currentLay];\n  }, [currentLay]);\n\n  return (\n    <div className=\"view-wrap\">\n      <div className=\"view-button-wrap\">\n        {Object.keys(viewerLayout).map((item) => (\n          <button\n            style={{ marginLeft: '10px' }}\n            onClick={() => handleClcik(item)}\n            key={item}\n          >\n            {item}\n          </button>\n        ))}\n      </div>\n\n      <div className=\"view-content-wrap\">\n        {grids.map((gridItem, index) => {\n          return (\n            <Multiview key={index} grid={gridItem} layout={layout}>\n              {index}\n            </Multiview>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n","import React from 'react'\nimport Index from './pages'\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Index />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport store from './redux/store'\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}